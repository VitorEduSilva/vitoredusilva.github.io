<html>

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>WebXR Test</title>
  <!-- import aframe and then ar.js with image tracking / location based features -->
  <script src="./js/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar-nft.js"></script>
  <script src="https://unpkg.com/aframe-environment-component@1.3.0/dist/aframe-environment-component.min.js"></script>
  <script src="./js/aframe-event-set-component.min.js"></script>
  <script src="src/main.js"></script>

  <!-- style for the loader -->
  <style>
    .arjs-loader {
      height: 100%;
      width: 100%;
      position: absolute;
      top: 0;
      left: 0;
      background-color: rgba(0, 0, 0, 0.8);
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .arjs-loader div {
      text-align: center;
      font-size: 1.25em;
      color: white;
    }
  </style>
</head>

<body style="margin : 0px; overflow: hidden;">

  <!-- minimal loader shown until image descriptors are loaded. Loading may take a while according to the device computational power -->
  <!-- <div class="arjs-loader">
      <div>Loading, please wait...</div>
    </div> -->

  <!--Version 15-->
  <a-scene vr-mode-ui="enabled: false;" renderer="logarithmicDepthBuffer: true;" embedded
    arjs="trackingMethod: best; sourceType: webcam; debugUIEnabled: false;" cursor="rayOrigin: mouse; fuse: false"
    raycaster="objects: .raycastable" ar-hit-test="target:#my-objects;type:footprint;footprintDepth:0.2;"
    shadow="type: pcfsoft"
    gltf-model="dracoDecoderPath: https://cdn.jsdelivr.net/npm/three@0.129.0/examples/js/libs/draco/gltf/;" ar-cursor
    raycaster="objects: #my-objects *">

    <a-assets>
      <a-asset-item id="spino"
        src="https://rawcdn.githack.com/krlosflip22/aframe-ar-sample/c91a7a9dd8b1428bc8e68bc1b5d8641d7241fd1b/spinosaurus.glb">
      </a-asset-item>
    </a-assets>
    <a-camera position="0 0.4 1"></a-camera>

    <a-light id="dirlight" auto-shadow-cam intensity="0.7" light="castShadow:true;type:directional" position="10 10 10">
    </a-light>
    <a-light hide-on-enter-ar intensity="0.3" light="type:hemisphere;color:yellow;groundColor:blue;"
      position="10 10 10"></a-light>

    <a-entity hide-on-enter-ar environment="lighting:none;shadow:true;"></a-entity>

    <!-- This plane is only visible in AR and follows the given target to provide it with shadows.-->
    <a-entity material="shader:shadow; depthWrite:false; opacity:0.9;" visible="false"
      geometry="primitive:shadow-plane;" shadow="cast:false;receive:true;"
      ar-shadow-helper="target:#my-objects;light:#dirlight;">
    </a-entity>

    <!-- This is hidden when the user first enters ar but becomes visible when the user can place it -->
    <a-entity hide-on-hit-test-start shadow id="my-objects" scale="0.2 0.2 0.2" position="0.2 0 -0.4">
      <a-gltf-model position="-1 2.15 -2" src="#spino">
      </a-gltf-model>
    </a-entity>

  </a-scene>

</body>

</html>